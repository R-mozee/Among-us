<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Simple Among Us Shop</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 18px; background:#f7fafc; color:#111; }
    header { display:flex; justify-content:space-between; align-items:center; }
    h1 { margin:0; font-size:20px; }
    .products { display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:12px; margin-top:14px; }
    .prod { background:#fff; padding:10px; border-radius:8px; box-shadow:0 1px 3px rgba(0,0,0,0.08); text-align:center; }
    .prod img { width:100%; height:110px; object-fit:cover; border-radius:6px; }
    .price { font-weight:700; margin-top:8px; color:#d64545; }
    .add { margin-top:8px; padding:6px 10px; border:none; border-radius:6px; background:#2563eb; color:#fff; cursor:pointer; }
    #cart-btn { position:fixed; right:16px; top:16px; background:#111827; color:white; border:none; padding:8px 12px; border-radius:999px; cursor:pointer; display:flex; gap:8px; align-items:center; z-index:1000;}
    #badge { font-weight:700; min-width:18px; text-align:center; }
    #cart-panel { position:fixed; right:16px; top:56px; width:300px; max-height:60vh; overflow:auto; background:#fff; border-radius:8px; box-shadow:0 8px 24px rgba(2,6,23,0.2); padding:10px; display:none; z-index:1000; }
    .cart-row { display:flex; justify-content:space-between; align-items:center; gap:8px; padding:6px 0; border-bottom:1px solid #f1f5f9; }
    .small { font-size:13px; color:#475569; }
    .cart-actions { margin-top:8px; display:flex; justify-content:space-between; gap:8px; }
    .btn-ghost { padding:8px 10px; border-radius:6px; border:1px solid #e2e8f0; background:#fff; cursor:pointer; }
    .btn-primary { padding:8px 10px; border-radius:6px; border:none; background:#10b981; color:#fff; cursor:pointer; }
    @media (max-width:480px){ #cart-panel { right:8px; left:8px; width:auto; } }
  </style>
</head>
<body>

<header class="site-header">
  <div class="header-left">
    <h1>Among Us â€” Tiny Shop</h1>
    <p class="small muted">Click "Add" to add items to the cart.</p>
  </div>

  <nav class="header-nav">
    <a href="root.html">Home</a>
    <a href="shop.html">Shop</a>
  </nav>

  <div class="header-cart">
    <button id="cart-btn" aria-label="Open cart">ðŸ›’ <span id="badge">0</span></button>

    <div id="cart-panel" class="cart-panel" aria-hidden="true">
      <div id="cart-items"></div>
      <div class="cart-actions">
        <div class="small">Total: <span id="total">$0.00</span></div>
        <div>
          <button id="clear" class="btn-ghost">Clear</button>
          <button id="checkout" class="btn-primary">Checkout</button>
        </div>
      </div>
    </div>
  </div>
</header>


<button id="cart-btn">ðŸ›’ <span id="badge">0</span></button>


<main>
  <p class="small">Click "Add" to add items to the cart. This is a simple front-end-only demo (no payments).</p>

  <div class="products" id="products">
    <div class="prod" data-id="p1" data-price="12.99">
      <img src="https://placehold.co/400x300/ff6b6b/fff?text=Crew+Plush" alt="Crew Plush">
      <div class="title">Crewmate Plush</div>
      <div class="price">$12.99</div>
      <button class="add">Add</button>
    </div>

    <div class="prod" data-id="p2" data-price="9.99">
      <img src="https://placehold.co/400x300/1e40af/fff?text=Beanie" alt="Beanie">
      <div class="title">Beanie Hat</div>
      <div class="price">$9.99</div>
      <button class="add">Add</button>
    </div>

    <div class="prod" data-id="p3" data-price="5.99">
      <img src="https://placehold.co/400x300/f8b195/000?text=Sticker" alt="Sticker Pack">
      <div class="title">Sticker Pack (10)</div>
      <div class="price">$5.99</div>
      <button class="add">Add</button>
    </div>

    <div class="prod" data-id="p4" data-price="19.99">
      <img src="https://placehold.co/400x300/94a3b8/fff?text=T-Shirt" alt="T-Shirt">
      <div class="title">Crew T-Shirt</div>
      <div class="price">$19.99</div>
      <button class="add">Add</button>
    </div>
  </div>
</main>

<button id="cart-btn">ðŸ›’ <span id="badge">0</span></button>

<div id="cart-panel">
  <div id="cart-items"></div>
  <div class="cart-actions">
    <div class="small">Total: <span id="total">$0.00</span></div>
    <div>
      <button id="clear" class="btn-ghost">Clear</button>
      <button id="checkout" class="btn-primary">Checkout</button>
    </div>
  </div>
</div>

<script>
  const addButtons = document.querySelectorAll('.add');
  const badge = document.getElementById('badge');
  const cartBtn = document.getElementById('cart-btn');
  const cartPanel = document.getElementById('cart-panel');
  const cartItemsDiv = document.getElementById('cart-items');
  const totalSpan = document.getElementById('total');
  const clearBtn = document.getElementById('clear');
  const checkoutBtn = document.getElementById('checkout');

  let cart = {};

  function money(n){ return '$' + n.toFixed(2); }

  function updateUI(){
    const qty = Object.values(cart).reduce((s,i)=>s + i.qty, 0);
    badge.textContent = qty;
    cartItemsDiv.innerHTML = '';
    let total = 0;
    for (const id in cart){
      const it = cart[id];
      total += it.price * it.qty;
      const row = document.createElement('div');
      row.className = 'cart-row';
      row.innerHTML = `
        <div style="flex:1">
          <div style="font-weight:700">${it.title}</div>
          <div class="small">${money(it.price)} Ã— ${it.qty}</div>
        </div>
        <div style="display:flex;gap:6px">
          <button data-id="${id}" class="dec btn-ghost">-</button>
          <button data-id="${id}" class="inc btn-ghost">+</button>
        </div>
      `;
      cartItemsDiv.appendChild(row);
    }
    totalSpan.textContent = money(total);
    document.querySelectorAll('.inc').forEach(b => b.onclick = () => { cart[b.dataset.id].qty++; updateUI(); });
    document.querySelectorAll('.dec').forEach(b => {
      b.onclick = () => {
        const id = b.dataset.id;
        cart[id].qty--;
        if (cart[id].qty <= 0) delete cart[id];
        updateUI();
      };
    });
  }

  addButtons.forEach(btn => {
    btn.onclick = () => {
      const prod = btn.closest('.prod');
      const id = prod.dataset.id;
      const price = parseFloat(prod.dataset.price);
      const title = prod.querySelector('.title').textContent;
      if (!cart[id]) cart[id] = { title, price, qty: 0 };
      cart[id].qty++;
      updateUI();
    };
  });

  cartBtn.onclick = () => {
    cartPanel.style.display = cartPanel.style.display === 'block' ? 'none' : 'block';
  };

  clearBtn.onclick = () => { cart = {}; updateUI(); };
  checkoutBtn.onclick = () => {
    if (Object.keys(cart).length === 0) { alert('Cart is empty'); return; }
    alert('Checkout simulated â€” thank you!');
    cart = {}; updateUI();
    cartPanel.style.display = 'none';
  };

  updateUI();
</script>

</body>
</html>
